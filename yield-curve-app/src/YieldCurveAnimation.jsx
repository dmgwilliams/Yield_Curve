import { useState, useEffect, useRef, useCallback, useMemo } from "react";

const FALLBACK_DATA = [{"date":"2020-01-03","label":"Jan 03, 2020","rates":[1.52,1.55,1.54,1.56,1.57,1.56,1.58,1.6,1.69,1.78,1.8,2.11,2.26]},{"date":"2020-01-10","label":"Jan 10, 2020","rates":[1.51,1.54,1.55,1.56,1.57,1.56,1.58,1.59,1.63,1.73,1.82,2.14,2.28]},{"date":"2020-01-17","label":"Jan 17, 2020","rates":[1.54,1.56,1.56,1.57,1.58,1.56,1.55,1.56,1.64,1.72,1.84,2.17,2.3]},{"date":"2020-01-24","label":"Jan 24, 2020","rates":[1.54,1.56,1.56,1.56,1.57,1.52,1.49,1.47,1.51,1.59,1.69,2.01,2.14]},{"date":"2020-01-31","label":"Jan 31, 2020","rates":[1.55,1.54,1.54,1.54,1.53,1.43,1.33,1.28,1.32,1.41,1.51,1.86,2.0]},{"date":"2020-02-07","label":"Feb 07, 2020","rates":[1.55,1.56,1.56,1.56,1.55,1.46,1.4,1.38,1.42,1.52,1.58,1.93,2.05]},{"date":"2020-02-14","label":"Feb 14, 2020","rates":[1.55,1.56,1.55,1.54,1.53,1.43,1.39,1.38,1.41,1.51,1.59,1.92,2.05]},{"date":"2020-02-21","label":"Feb 21, 2020","rates":[1.56,1.55,1.53,1.5,1.47,1.37,1.35,1.33,1.33,1.42,1.47,1.78,1.91]},{"date":"2020-02-28","label":"Feb 28, 2020","rates":[1.5,1.47,1.3,1.21,1.12,1.02,0.91,0.87,0.95,1.08,1.13,1.49,1.65]},{"date":"2020-03-06","label":"Mar 06, 2020","rates":[1.13,0.95,0.72,0.66,0.6,0.55,0.51,0.51,0.63,0.81,0.74,1.14,1.3]},{"date":"2020-03-13","label":"Mar 13, 2020","rates":[0.37,0.28,0.27,0.34,0.41,0.38,0.5,0.57,0.73,0.91,0.95,1.3,1.46]},{"date":"2020-03-20","label":"Mar 20, 2020","rates":[0.08,0.06,0.05,0.12,0.2,0.24,0.37,0.41,0.62,0.81,0.92,1.25,1.41]},{"date":"2020-03-27","label":"Mar 27, 2020","rates":[0.05,0.06,0.07,0.12,0.16,0.18,0.25,0.31,0.41,0.59,0.73,1.12,1.3]},{"date":"2020-04-03","label":"Apr 03, 2020","rates":[0.08,0.07,0.12,0.14,0.16,0.16,0.23,0.29,0.38,0.53,0.6,0.99,1.21]},{"date":"2020-04-10","label":"Apr 10, 2020","rates":[0.09,0.09,0.15,0.16,0.17,0.16,0.23,0.28,0.37,0.52,0.73,1.15,1.38]},{"date":"2020-04-17","label":"Apr 17, 2020","rates":[0.1,0.1,0.15,0.17,0.2,0.17,0.21,0.24,0.36,0.48,0.64,1.03,1.27]},{"date":"2020-04-24","label":"Apr 24, 2020","rates":[0.08,0.1,0.12,0.15,0.19,0.16,0.22,0.25,0.36,0.48,0.6,1.0,1.18]},{"date":"2020-05-01","label":"May 01, 2020","rates":[0.1,0.09,0.1,0.12,0.14,0.15,0.2,0.24,0.34,0.46,0.64,1.05,1.29]},{"date":"2020-05-08","label":"May 08, 2020","rates":[0.09,0.1,0.12,0.14,0.15,0.15,0.17,0.2,0.31,0.41,0.66,1.12,1.39]},{"date":"2020-05-15","label":"May 15, 2020","rates":[0.1,0.11,0.13,0.15,0.16,0.16,0.17,0.19,0.3,0.42,0.64,1.09,1.32]},{"date":"2020-05-22","label":"May 22, 2020","rates":[0.09,0.1,0.12,0.15,0.17,0.16,0.17,0.2,0.34,0.49,0.66,1.08,1.38]},{"date":"2020-05-29","label":"May 29, 2020","rates":[0.1,0.11,0.13,0.15,0.18,0.16,0.16,0.19,0.3,0.44,0.65,1.11,1.41]},{"date":"2020-06-05","label":"Jun 05, 2020","rates":[0.11,0.11,0.16,0.18,0.2,0.18,0.2,0.23,0.34,0.49,0.9,1.28,1.63]},{"date":"2020-06-12","label":"Jun 12, 2020","rates":[0.1,0.12,0.16,0.18,0.2,0.19,0.22,0.25,0.34,0.5,0.71,1.12,1.42]},{"date":"2020-06-19","label":"Jun 19, 2020","rates":[0.08,0.12,0.16,0.17,0.19,0.18,0.21,0.23,0.33,0.48,0.7,1.14,1.44]},{"date":"2020-06-26","label":"Jun 26, 2020","rates":[0.09,0.12,0.15,0.17,0.19,0.17,0.18,0.2,0.29,0.43,0.64,1.06,1.37]},{"date":"2020-07-02","label":"Jul 02, 2020","rates":[0.08,0.12,0.14,0.16,0.18,0.17,0.16,0.17,0.29,0.44,0.67,1.08,1.41]},{"date":"2020-07-10","label":"Jul 10, 2020","rates":[0.09,0.11,0.14,0.16,0.18,0.16,0.15,0.17,0.27,0.43,0.63,1.07,1.34]},{"date":"2020-07-17","label":"Jul 17, 2020","rates":[0.09,0.12,0.14,0.16,0.17,0.15,0.14,0.15,0.27,0.42,0.63,1.05,1.33]},{"date":"2020-07-24","label":"Jul 24, 2020","rates":[0.09,0.1,0.11,0.13,0.15,0.14,0.14,0.15,0.27,0.43,0.59,0.99,1.24]},{"date":"2020-07-31","label":"Jul 31, 2020","rates":[0.08,0.1,0.1,0.12,0.13,0.12,0.11,0.12,0.23,0.38,0.55,0.96,1.2]},{"date":"2020-08-07","label":"Aug 07, 2020","rates":[0.09,0.1,0.1,0.11,0.12,0.12,0.12,0.13,0.23,0.38,0.57,0.99,1.23]},{"date":"2020-08-14","label":"Aug 14, 2020","rates":[0.09,0.1,0.1,0.11,0.12,0.13,0.14,0.14,0.28,0.44,0.71,1.13,1.43]},{"date":"2020-08-21","label":"Aug 21, 2020","rates":[0.08,0.1,0.1,0.11,0.12,0.13,0.15,0.14,0.27,0.44,0.64,1.04,1.34]},{"date":"2020-08-28","label":"Aug 28, 2020","rates":[0.08,0.1,0.1,0.12,0.13,0.14,0.16,0.14,0.27,0.43,0.72,1.16,1.5]},{"date":"2020-09-04","label":"Sep 04, 2020","rates":[0.08,0.09,0.1,0.11,0.12,0.12,0.13,0.14,0.27,0.43,0.72,1.17,1.49]},{"date":"2020-09-11","label":"Sep 11, 2020","rates":[0.08,0.09,0.1,0.11,0.11,0.12,0.13,0.15,0.29,0.45,0.68,1.12,1.42]},{"date":"2020-09-18","label":"Sep 18, 2020","rates":[0.08,0.09,0.1,0.11,0.11,0.11,0.14,0.16,0.27,0.43,0.7,1.16,1.46]},{"date":"2020-09-25","label":"Sep 25, 2020","rates":[0.08,0.09,0.1,0.11,0.11,0.11,0.13,0.14,0.27,0.42,0.66,1.11,1.4]},{"date":"2020-10-02","label":"Oct 02, 2020","rates":[0.08,0.09,0.1,0.11,0.11,0.11,0.14,0.16,0.27,0.43,0.69,1.12,1.48]},{"date":"2020-10-09","label":"Oct 09, 2020","rates":[0.08,0.09,0.09,0.1,0.1,0.11,0.15,0.17,0.34,0.51,0.78,1.26,1.57]},{"date":"2020-10-16","label":"Oct 16, 2020","rates":[0.08,0.1,0.09,0.1,0.1,0.12,0.15,0.17,0.33,0.5,0.74,1.18,1.52]},{"date":"2020-10-23","label":"Oct 23, 2020","rates":[0.08,0.1,0.1,0.11,0.11,0.12,0.16,0.19,0.37,0.55,0.84,1.31,1.65]},{"date":"2020-10-30","label":"Oct 30, 2020","rates":[0.08,0.1,0.1,0.11,0.11,0.12,0.16,0.18,0.36,0.54,0.88,1.35,1.65]},{"date":"2020-11-06","label":"Nov 06, 2020","rates":[0.08,0.1,0.1,0.1,0.1,0.1,0.16,0.2,0.36,0.56,0.82,1.29,1.59]},{"date":"2020-11-13","label":"Nov 13, 2020","rates":[0.07,0.09,0.09,0.1,0.1,0.1,0.18,0.23,0.4,0.6,0.9,1.38,1.65]},{"date":"2020-11-20","label":"Nov 20, 2020","rates":[0.08,0.09,0.09,0.1,0.1,0.1,0.16,0.2,0.37,0.56,0.84,1.34,1.58]},{"date":"2020-11-27","label":"Nov 27, 2020","rates":[0.07,0.08,0.08,0.08,0.09,0.1,0.15,0.19,0.36,0.54,0.84,1.34,1.58]},{"date":"2020-12-04","label":"Dec 04, 2020","rates":[0.07,0.08,0.08,0.08,0.09,0.09,0.15,0.19,0.37,0.55,0.97,1.38,1.68]},{"date":"2020-12-11","label":"Dec 11, 2020","rates":[0.07,0.08,0.08,0.08,0.09,0.09,0.12,0.16,0.37,0.55,0.9,1.38,1.66]},{"date":"2020-12-18","label":"Dec 18, 2020","rates":[0.08,0.08,0.08,0.08,0.09,0.09,0.12,0.16,0.37,0.54,0.95,1.39,1.68]},{"date":"2020-12-24","label":"Dec 24, 2020","rates":[0.07,0.08,0.08,0.08,0.09,0.09,0.12,0.16,0.37,0.56,0.94,1.38,1.68]},{"date":"2020-12-31","label":"Dec 31, 2020","rates":[0.07,0.08,0.09,0.09,0.09,0.1,0.13,0.17,0.36,0.55,0.93,1.4,1.65]},{"date":"2021-01-08","label":"Jan 08, 2021","rates":[0.07,0.08,0.08,0.08,0.09,0.1,0.14,0.19,0.43,0.67,1.12,1.6,1.87]},{"date":"2021-01-15","label":"Jan 15, 2021","rates":[0.06,0.07,0.08,0.08,0.08,0.09,0.13,0.18,0.43,0.66,1.09,1.56,1.83]},{"date":"2021-01-22","label":"Jan 22, 2021","rates":[0.05,0.07,0.07,0.08,0.08,0.09,0.13,0.18,0.41,0.63,1.09,1.55,1.83]},{"date":"2021-01-29","label":"Jan 29, 2021","rates":[0.04,0.06,0.06,0.07,0.07,0.08,0.11,0.16,0.42,0.63,1.07,1.55,1.83]},{"date":"2021-02-05","label":"Feb 05, 2021","rates":[0.03,0.05,0.05,0.06,0.06,0.07,0.11,0.17,0.46,0.68,1.17,1.64,1.93]},{"date":"2021-02-12","label":"Feb 12, 2021","rates":[0.04,0.05,0.05,0.06,0.06,0.07,0.11,0.17,0.47,0.75,1.2,1.69,1.98]},{"date":"2021-02-19","label":"Feb 19, 2021","rates":[0.03,0.04,0.04,0.04,0.05,0.06,0.11,0.19,0.56,0.86,1.34,1.84,2.13]},{"date":"2021-02-26","label":"Feb 26, 2021","rates":[0.02,0.03,0.04,0.04,0.05,0.06,0.13,0.24,0.6,0.94,1.41,1.89,2.15]},{"date":"2021-03-05","label":"Mar 05, 2021","rates":[0.03,0.03,0.04,0.04,0.05,0.07,0.14,0.28,0.72,1.07,1.56,2.01,2.26]},{"date":"2021-03-12","label":"Mar 12, 2021","rates":[0.02,0.03,0.03,0.04,0.05,0.07,0.15,0.29,0.77,1.11,1.63,2.11,2.37]},{"date":"2021-03-19","label":"Mar 19, 2021","rates":[0.02,0.02,0.03,0.04,0.04,0.06,0.15,0.31,0.82,1.16,1.73,2.22,2.45]},{"date":"2021-03-26","label":"Mar 26, 2021","rates":[0.01,0.02,0.03,0.04,0.05,0.07,0.16,0.3,0.85,1.18,1.67,2.12,2.36]},{"date":"2021-04-01","label":"Apr 01, 2021","rates":[0.02,0.02,0.03,0.04,0.04,0.06,0.16,0.32,0.92,1.26,1.68,2.14,2.35]},{"date":"2021-04-09","label":"Apr 09, 2021","rates":[0.01,0.02,0.02,0.03,0.04,0.06,0.16,0.32,0.85,1.19,1.66,2.13,2.35]},{"date":"2021-04-16","label":"Apr 16, 2021","rates":[0.01,0.02,0.02,0.03,0.04,0.06,0.16,0.29,0.79,1.12,1.59,2.08,2.3]},{"date":"2021-04-23","label":"Apr 23, 2021","rates":[0.01,0.02,0.02,0.03,0.04,0.06,0.16,0.3,0.82,1.15,1.56,2.04,2.27]},{"date":"2021-04-30","label":"Apr 30, 2021","rates":[0.01,0.02,0.02,0.03,0.04,0.06,0.16,0.28,0.83,1.14,1.63,2.14,2.3]},{"date":"2021-05-07","label":"May 07, 2021","rates":[0.02,0.02,0.02,0.03,0.04,0.05,0.16,0.3,0.82,1.14,1.58,2.09,2.28]},{"date":"2021-05-14","label":"May 14, 2021","rates":[0.01,0.02,0.01,0.03,0.04,0.06,0.16,0.29,0.83,1.16,1.63,2.14,2.36]},{"date":"2021-05-21","label":"May 21, 2021","rates":[0.01,0.02,0.01,0.03,0.04,0.05,0.15,0.28,0.8,1.13,1.62,2.15,2.33]},{"date":"2021-05-28","label":"May 28, 2021","rates":[0.01,0.01,0.01,0.03,0.04,0.05,0.14,0.25,0.79,1.11,1.58,2.12,2.29]},{"date":"2021-06-04","label":"Jun 04, 2021","rates":[0.02,0.02,0.02,0.03,0.04,0.05,0.15,0.28,0.77,1.09,1.56,2.06,2.25]},{"date":"2021-06-11","label":"Jun 11, 2021","rates":[0.03,0.03,0.03,0.04,0.05,0.06,0.15,0.25,0.75,1.05,1.45,1.97,2.14]},{"date":"2021-06-18","label":"Jun 18, 2021","rates":[0.04,0.04,0.04,0.05,0.06,0.06,0.18,0.32,0.85,1.16,1.51,2.01,2.15]},{"date":"2021-06-25","label":"Jun 25, 2021","rates":[0.04,0.04,0.05,0.06,0.06,0.07,0.25,0.39,0.87,1.17,1.52,2.04,2.15]},{"date":"2021-07-02","label":"Jul 02, 2021","rates":[0.05,0.05,0.05,0.06,0.06,0.07,0.25,0.4,0.87,1.15,1.43,1.94,2.07]},{"date":"2021-07-09","label":"Jul 09, 2021","rates":[0.05,0.05,0.05,0.05,0.05,0.06,0.21,0.35,0.78,1.05,1.36,1.87,1.95]},{"date":"2021-07-16","label":"Jul 16, 2021","rates":[0.04,0.05,0.05,0.06,0.06,0.07,0.2,0.33,0.75,1.03,1.3,1.81,1.92]},{"date":"2021-07-23","label":"Jul 23, 2021","rates":[0.05,0.05,0.05,0.05,0.05,0.07,0.21,0.34,0.73,1.02,1.28,1.8,1.92]},{"date":"2021-07-30","label":"Jul 30, 2021","rates":[0.05,0.05,0.05,0.05,0.05,0.06,0.19,0.3,0.69,0.97,1.23,1.77,1.89]},{"date":"2021-08-06","label":"Aug 06, 2021","rates":[0.05,0.05,0.05,0.05,0.05,0.07,0.2,0.3,0.76,1.05,1.3,1.82,1.94]},{"date":"2021-08-13","label":"Aug 13, 2021","rates":[0.05,0.05,0.05,0.05,0.05,0.07,0.22,0.34,0.77,1.06,1.28,1.77,1.93]},{"date":"2021-08-20","label":"Aug 20, 2021","rates":[0.05,0.05,0.05,0.05,0.05,0.07,0.22,0.34,0.77,1.06,1.26,1.76,1.87]},{"date":"2021-08-27","label":"Aug 27, 2021","rates":[0.05,0.05,0.05,0.05,0.05,0.07,0.22,0.33,0.78,1.06,1.31,1.8,1.93]},{"date":"2021-09-03","label":"Sep 03, 2021","rates":[0.05,0.05,0.05,0.05,0.05,0.07,0.21,0.32,0.78,1.06,1.32,1.83,1.93]},{"date":"2021-09-10","label":"Sep 10, 2021","rates":[0.07,0.05,0.04,0.04,0.05,0.08,0.21,0.32,0.78,1.08,1.34,1.83,1.93]},{"date":"2021-09-17","label":"Sep 17, 2021","rates":[0.06,0.05,0.04,0.04,0.05,0.07,0.22,0.34,0.82,1.11,1.37,1.87,1.97]},{"date":"2021-09-24","label":"Sep 24, 2021","rates":[0.05,0.05,0.04,0.04,0.05,0.08,0.27,0.42,0.95,1.24,1.46,1.94,2.03]},{"date":"2021-10-01","label":"Oct 01, 2021","rates":[0.06,0.05,0.04,0.04,0.05,0.09,0.28,0.45,1.01,1.3,1.47,1.95,2.04]},{"date":"2021-10-08","label":"Oct 08, 2021","rates":[0.07,0.05,0.04,0.04,0.05,0.1,0.32,0.52,1.05,1.34,1.61,2.08,2.16]},{"date":"2021-10-15","label":"Oct 15, 2021","rates":[0.07,0.05,0.04,0.05,0.06,0.1,0.37,0.58,1.05,1.37,1.57,2.02,2.05]},{"date":"2021-10-22","label":"Oct 22, 2021","rates":[0.05,0.05,0.05,0.06,0.06,0.12,0.45,0.67,1.18,1.47,1.64,2.07,2.1]},{"date":"2021-10-29","label":"Oct 29, 2021","rates":[0.04,0.05,0.05,0.06,0.07,0.13,0.5,0.73,1.21,1.48,1.55,1.97,1.94]},{"date":"2021-11-05","label":"Nov 05, 2021","rates":[0.05,0.05,0.05,0.06,0.06,0.14,0.4,0.6,1.04,1.35,1.45,1.88,1.88]},{"date":"2021-11-12","label":"Nov 12, 2021","rates":[0.05,0.05,0.05,0.06,0.07,0.16,0.5,0.73,1.22,1.49,1.56,1.97,1.91]},{"date":"2021-11-19","label":"Nov 19, 2021","rates":[0.05,0.05,0.05,0.06,0.07,0.17,0.56,0.78,1.22,1.48,1.54,1.93,1.88]},{"date":"2021-11-26","label":"Nov 26, 2021","rates":[0.06,0.05,0.05,0.06,0.07,0.16,0.5,0.72,1.14,1.39,1.48,1.86,1.83]},{"date":"2021-12-03","label":"Dec 03, 2021","rates":[0.05,0.05,0.05,0.07,0.08,0.2,0.61,0.85,1.18,1.41,1.35,1.72,1.68]},{"date":"2021-12-10","label":"Dec 10, 2021","rates":[0.04,0.05,0.05,0.08,0.1,0.22,0.66,0.9,1.26,1.48,1.49,1.86,1.87]},{"date":"2021-12-17","label":"Dec 17, 2021","rates":[0.04,0.05,0.05,0.08,0.1,0.22,0.66,0.91,1.21,1.42,1.41,1.78,1.79]},{"date":"2021-12-23","label":"Dec 23, 2021","rates":[0.04,0.05,0.06,0.09,0.12,0.25,0.73,0.98,1.27,1.46,1.49,1.85,1.88]},{"date":"2021-12-31","label":"Dec 31, 2021","rates":[0.05,0.06,0.06,0.12,0.19,0.39,0.73,0.97,1.26,1.44,1.52,1.94,1.9]},{"date":"2022-01-07","label":"Jan 07, 2022","rates":[0.05,0.07,0.11,0.2,0.3,0.56,0.87,1.1,1.5,1.67,1.76,2.11,2.09]},{"date":"2022-01-14","label":"Jan 14, 2022","rates":[0.07,0.1,0.18,0.32,0.45,0.7,1.0,1.23,1.56,1.72,1.79,2.11,2.07]},{"date":"2022-01-21","label":"Jan 21, 2022","rates":[0.05,0.1,0.19,0.35,0.52,0.79,1.03,1.27,1.55,1.71,1.76,2.1,2.05]},{"date":"2022-01-28","label":"Jan 28, 2022","rates":[0.05,0.13,0.22,0.38,0.54,0.82,1.2,1.39,1.62,1.75,1.78,2.1,2.07]},{"date":"2022-02-04","label":"Feb 04, 2022","rates":[0.05,0.13,0.29,0.46,0.64,0.92,1.19,1.38,1.57,1.69,1.77,2.1,2.09]},{"date":"2022-02-11","label":"Feb 11, 2022","rates":[0.05,0.14,0.35,0.55,0.76,1.05,1.32,1.52,1.77,1.89,1.92,2.26,2.22]},{"date":"2022-02-18","label":"Feb 18, 2022","rates":[0.07,0.16,0.38,0.55,0.72,0.97,1.47,1.63,1.84,1.95,1.93,2.26,2.24]},{"date":"2022-02-25","label":"Feb 25, 2022","rates":[0.07,0.15,0.34,0.5,0.66,0.9,1.44,1.6,1.82,1.93,1.97,2.3,2.27]},{"date":"2022-03-04","label":"Mar 04, 2022","rates":[0.12,0.15,0.35,0.49,0.64,0.89,1.48,1.61,1.78,1.88,1.74,2.1,2.08]},{"date":"2022-03-11","label":"Mar 11, 2022","rates":[0.17,0.2,0.44,0.62,0.81,1.13,1.5,1.68,1.82,1.92,2.0,2.31,2.31]},{"date":"2022-03-18","label":"Mar 18, 2022","rates":[0.13,0.25,0.51,0.72,0.93,1.27,1.92,2.07,2.14,2.17,2.15,2.48,2.42]},{"date":"2022-03-25","label":"Mar 25, 2022","rates":[0.15,0.3,0.52,0.77,1.01,1.37,2.28,2.43,2.54,2.52,2.48,2.76,2.6]},{"date":"2022-04-01","label":"Apr 01, 2022","rates":[0.2,0.36,0.52,0.77,1.02,1.44,2.44,2.58,2.55,2.51,2.38,2.69,2.44]},{"date":"2022-04-08","label":"Apr 08, 2022","rates":[0.24,0.37,0.61,0.85,1.1,1.58,2.52,2.67,2.69,2.7,2.71,3.03,2.76]},{"date":"2022-04-14","label":"Apr 14, 2022","rates":[0.25,0.4,0.68,0.93,1.17,1.7,2.46,2.65,2.78,2.79,2.83,3.12,2.86]},{"date":"2022-04-22","label":"Apr 22, 2022","rates":[0.28,0.49,0.78,1.02,1.25,1.86,2.71,2.84,2.89,2.9,2.9,3.16,2.93]},{"date":"2022-04-29","label":"Apr 29, 2022","rates":[0.33,0.52,0.83,1.06,1.3,1.99,2.72,2.87,2.94,2.94,2.94,3.27,3.0]},{"date":"2022-05-06","label":"May 06, 2022","rates":[0.5,0.7,0.93,1.18,1.43,2.05,2.72,2.85,2.92,2.94,3.12,3.47,3.22]},{"date":"2022-05-13","label":"May 13, 2022","rates":[0.6,0.73,0.98,1.21,1.44,2.03,2.61,2.72,2.85,2.9,2.93,3.29,3.09]},{"date":"2022-05-20","label":"May 20, 2022","rates":[0.62,0.8,1.05,1.26,1.47,2.1,2.63,2.75,2.83,2.84,2.79,3.16,3.0]},{"date":"2022-05-27","label":"May 27, 2022","rates":[0.64,0.85,1.08,1.29,1.51,2.1,2.53,2.65,2.71,2.75,2.74,3.1,2.97]},{"date":"2022-06-03","label":"Jun 03, 2022","rates":[0.65,0.87,1.13,1.33,1.53,2.14,2.66,2.79,2.94,2.99,2.96,3.3,3.11]},{"date":"2022-06-10","label":"Jun 10, 2022","rates":[0.73,0.98,1.22,1.43,1.64,2.38,2.82,2.96,3.06,3.1,3.16,3.5,3.27]},{"date":"2022-06-17","label":"Jun 17, 2022","rates":[0.93,1.24,1.47,1.65,1.83,2.68,3.17,3.29,3.33,3.32,3.24,3.52,3.26]},{"date":"2022-06-24","label":"Jun 24, 2022","rates":[1.09,1.37,1.6,1.82,2.04,2.76,3.06,3.15,3.14,3.11,3.13,3.44,3.18]},{"date":"2022-07-01","label":"Jul 01, 2022","rates":[1.19,1.52,1.72,1.96,2.2,2.81,2.84,2.85,2.88,2.88,2.89,3.25,3.09]},{"date":"2022-07-08","label":"Jul 08, 2022","rates":[1.25,1.62,1.85,2.13,2.42,2.97,3.1,3.09,3.03,3.01,3.08,3.42,3.2]},{"date":"2022-07-15","label":"Jul 15, 2022","rates":[1.32,1.8,2.01,2.3,2.59,3.06,3.13,3.09,2.98,2.95,2.93,3.3,3.11]},{"date":"2022-07-22","label":"Jul 22, 2022","rates":[1.53,1.96,2.15,2.43,2.71,3.03,2.98,2.9,2.78,2.75,2.77,3.14,3.0]},{"date":"2022-07-29","label":"Jul 29, 2022","rates":[1.8,2.21,2.39,2.6,2.82,2.99,2.89,2.81,2.7,2.7,2.65,3.04,2.97]},{"date":"2022-08-05","label":"Aug 05, 2022","rates":[2.18,2.42,2.54,2.71,2.88,3.07,3.08,2.97,2.83,2.8,2.83,3.21,3.06]},{"date":"2022-08-12","label":"Aug 12, 2022","rates":[2.29,2.52,2.7,2.83,2.96,3.16,3.23,3.12,2.97,2.91,2.84,3.16,3.06]},{"date":"2022-08-19","label":"Aug 19, 2022","rates":[2.42,2.64,2.82,2.96,3.1,3.3,3.25,3.17,3.02,2.95,2.98,3.34,3.22]},{"date":"2022-08-26","label":"Aug 26, 2022","rates":[2.5,2.76,2.9,3.08,3.26,3.39,3.37,3.3,3.19,3.14,3.04,3.41,3.22]},{"date":"2022-09-02","label":"Sep 02, 2022","rates":[2.52,2.82,3.06,3.23,3.39,3.53,3.39,3.3,3.26,3.22,3.2,3.52,3.34]},{"date":"2022-09-09","label":"Sep 09, 2022","rates":[2.62,2.9,3.14,3.32,3.5,3.63,3.56,3.48,3.4,3.37,3.32,3.63,3.44]},{"date":"2022-09-16","label":"Sep 16, 2022","rates":[2.7,2.95,3.22,3.4,3.57,3.78,3.87,3.77,3.63,3.56,3.45,3.74,3.51]},{"date":"2022-09-23","label":"Sep 23, 2022","rates":[2.85,3.05,3.31,3.54,3.77,4.04,4.21,4.11,3.93,3.8,3.69,3.95,3.61]},{"date":"2022-09-30","label":"Sep 30, 2022","rates":[2.94,3.19,3.37,3.59,3.82,4.05,4.22,4.16,3.83,3.79,3.83,4.09,3.79]},{"date":"2022-10-07","label":"Oct 07, 2022","rates":[2.99,3.26,3.43,3.71,3.98,4.17,4.3,4.23,4.14,4.04,3.88,4.18,3.86]},{"date":"2022-10-14","label":"Oct 14, 2022","rates":[3.13,3.45,3.63,3.86,4.1,4.33,4.49,4.39,4.22,4.09,3.99,4.28,3.97]},{"date":"2022-10-21","label":"Oct 21, 2022","rates":[3.3,3.57,3.94,4.07,4.23,4.42,4.51,4.43,4.24,4.13,4.21,4.5,4.34]},{"date":"2022-10-28","label":"Oct 28, 2022","rates":[3.56,3.72,4.05,4.13,4.34,4.5,4.42,4.35,4.17,4.04,4.02,4.35,4.14]},{"date":"2022-11-04","label":"Nov 04, 2022","rates":[3.69,3.84,4.18,4.25,4.41,4.59,4.66,4.55,4.32,4.18,4.16,4.46,4.23]},{"date":"2022-11-10","label":"Nov 10, 2022","rates":[3.75,3.89,4.18,4.24,4.39,4.59,4.33,4.21,3.93,3.81,3.82,4.14,3.99]},{"date":"2022-11-18","label":"Nov 18, 2022","rates":[3.9,4.0,4.21,4.27,4.43,4.58,4.51,4.37,4.01,3.88,3.82,4.16,3.97]},{"date":"2022-11-25","label":"Nov 25, 2022","rates":[3.87,4.02,4.24,4.29,4.44,4.55,4.42,4.27,3.9,3.77,3.68,4.0,3.79]},{"date":"2022-12-02","label":"Dec 02, 2022","rates":[3.99,4.13,4.3,4.35,4.5,4.54,4.28,4.11,3.67,3.57,3.49,3.83,3.56]},{"date":"2022-12-09","label":"Dec 09, 2022","rates":[4.12,4.26,4.38,4.42,4.55,4.62,4.33,4.14,3.73,3.62,3.57,3.89,3.63]},{"date":"2022-12-16","label":"Dec 16, 2022","rates":[4.15,4.3,4.4,4.44,4.59,4.61,4.23,4.04,3.62,3.5,3.49,3.79,3.53]},{"date":"2022-12-23","label":"Dec 23, 2022","rates":[4.24,4.35,4.42,4.47,4.61,4.66,4.36,4.2,3.85,3.78,3.68,3.99,3.73]},{"date":"2022-12-30","label":"Dec 30, 2022","rates":[4.18,4.34,4.42,4.45,4.59,4.73,4.43,4.22,3.99,3.88,3.88,4.14,3.97]},{"date":"2023-01-06","label":"Jan 06, 2023","rates":[4.3,4.36,4.56,4.63,4.76,4.71,4.25,4.0,3.71,3.6,3.56,3.86,3.67]},{"date":"2023-01-13","label":"Jan 13, 2023","rates":[4.4,4.46,4.59,4.63,4.74,4.67,4.14,3.88,3.52,3.44,3.5,3.8,3.61]},{"date":"2023-01-20","label":"Jan 20, 2023","rates":[4.61,4.57,4.66,4.68,4.74,4.67,4.13,3.86,3.51,3.46,3.48,3.79,3.65]},{"date":"2023-01-27","label":"Jan 27, 2023","rates":[4.65,4.6,4.68,4.69,4.72,4.63,4.2,3.93,3.62,3.56,3.5,3.76,3.63]},{"date":"2023-02-03","label":"Feb 03, 2023","rates":[4.62,4.62,4.7,4.72,4.77,4.73,4.29,3.99,3.66,3.55,3.53,3.79,3.62]},{"date":"2023-02-10","label":"Feb 10, 2023","rates":[4.64,4.64,4.73,4.77,4.81,4.8,4.52,4.25,3.91,3.8,3.74,3.97,3.82]},{"date":"2023-02-17","label":"Feb 17, 2023","rates":[4.66,4.66,4.75,4.81,4.89,4.88,4.62,4.33,3.98,3.87,3.82,4.04,3.87]},{"date":"2023-02-24","label":"Feb 24, 2023","rates":[4.69,4.7,4.79,4.85,4.96,4.97,4.78,4.49,4.18,4.04,3.95,4.14,3.93]},{"date":"2023-03-03","label":"Mar 03, 2023","rates":[4.7,4.72,4.87,4.93,5.06,5.01,4.89,4.59,4.26,4.13,4.01,4.19,3.96]},{"date":"2023-03-10","label":"Mar 10, 2023","rates":[4.8,4.82,4.95,5.02,5.15,5.03,4.6,4.26,3.83,3.72,3.7,3.97,3.71]},{"date":"2023-03-17","label":"Mar 17, 2023","rates":[4.63,4.49,4.51,4.42,4.71,4.39,3.83,3.55,3.44,3.41,3.39,3.71,3.6]},{"date":"2023-03-24","label":"Mar 24, 2023","rates":[4.62,4.64,4.65,4.65,4.79,4.6,3.76,3.51,3.38,3.35,3.38,3.69,3.64]},{"date":"2023-03-31","label":"Mar 31, 2023","rates":[4.72,4.73,4.82,4.83,4.89,4.65,4.03,3.75,3.52,3.47,3.47,3.76,3.65]},{"date":"2023-04-06","label":"Apr 06, 2023","rates":[4.73,4.76,4.86,4.9,4.92,4.6,3.83,3.54,3.3,3.25,3.3,3.6,3.52]},{"date":"2023-04-14","label":"Apr 14, 2023","rates":[4.75,4.81,4.94,4.97,4.98,4.7,4.08,3.77,3.5,3.42,3.44,3.73,3.6]},{"date":"2023-04-21","label":"Apr 21, 2023","rates":[4.79,4.86,5.0,5.04,5.02,4.72,4.18,3.87,3.56,3.5,3.55,3.85,3.75]},{"date":"2023-04-28","label":"Apr 28, 2023","rates":[4.82,4.89,5.07,5.11,5.09,4.75,4.04,3.72,3.43,3.37,3.44,3.76,3.67]},{"date":"2023-05-05","label":"May 05, 2023","rates":[5.28,5.1,5.18,5.14,5.05,4.73,3.92,3.59,3.37,3.35,3.44,3.77,3.72]},{"date":"2023-05-12","label":"May 12, 2023","rates":[5.26,5.15,5.24,5.17,5.06,4.72,3.91,3.57,3.39,3.37,3.46,3.81,3.77]},{"date":"2023-05-19","label":"May 19, 2023","rates":[5.5,5.24,5.31,5.24,5.17,4.87,4.27,3.95,3.68,3.62,3.67,3.98,3.94]},{"date":"2023-05-26","label":"May 26, 2023","rates":[5.77,5.4,5.39,5.28,5.15,4.92,4.55,4.23,3.92,3.83,3.81,4.1,3.96]},{"date":"2023-06-02","label":"Jun 02, 2023","rates":[5.57,5.38,5.34,5.26,5.24,5.02,4.6,4.25,3.84,3.75,3.69,3.97,3.87]},{"date":"2023-06-09","label":"Jun 09, 2023","rates":[5.35,5.28,5.33,5.27,5.24,5.11,4.6,4.25,3.87,3.78,3.74,4.02,3.88]},{"date":"2023-06-16","label":"Jun 16, 2023","rates":[5.26,5.26,5.26,5.24,5.28,5.17,4.72,4.38,3.97,3.87,3.77,4.0,3.85]},{"date":"2023-06-23","label":"Jun 23, 2023","rates":[5.24,5.26,5.28,5.26,5.36,5.25,4.76,4.44,4.05,3.93,3.73,3.96,3.82]},{"date":"2023-06-30","label":"Jun 30, 2023","rates":[5.27,5.26,5.31,5.27,5.36,5.26,4.87,4.54,4.13,4.01,3.84,4.06,3.86]},{"date":"2023-07-07","label":"Jul 07, 2023","rates":[5.28,5.3,5.35,5.32,5.41,5.32,4.94,4.6,4.18,4.05,4.06,4.28,4.05]},{"date":"2023-07-14","label":"Jul 14, 2023","rates":[5.29,5.31,5.37,5.35,5.4,5.31,4.79,4.42,3.98,3.85,3.83,4.08,3.93]},{"date":"2023-07-21","label":"Jul 21, 2023","rates":[5.32,5.37,5.43,5.41,5.43,5.34,4.84,4.47,4.06,3.93,3.84,4.07,3.89]},{"date":"2023-07-28","label":"Jul 28, 2023","rates":[5.34,5.39,5.42,5.42,5.44,5.34,4.88,4.51,4.12,4.01,3.97,4.22,4.02]},{"date":"2023-08-04","label":"Aug 04, 2023","rates":[5.36,5.39,5.44,5.43,5.44,5.35,4.78,4.41,4.13,4.04,4.06,4.35,4.21]},{"date":"2023-08-11","label":"Aug 11, 2023","rates":[5.36,5.38,5.42,5.42,5.44,5.36,4.89,4.52,4.18,4.1,4.1,4.37,4.26]},{"date":"2023-08-18","label":"Aug 18, 2023","rates":[5.38,5.38,5.45,5.43,5.46,5.38,4.94,4.59,4.38,4.28,4.25,4.52,4.38]},{"date":"2023-08-25","label":"Aug 25, 2023","rates":[5.38,5.37,5.45,5.45,5.49,5.4,4.97,4.57,4.32,4.24,4.23,4.53,4.28]},{"date":"2023-09-01","label":"Sep 01, 2023","rates":[5.37,5.38,5.45,5.45,5.49,5.41,4.87,4.5,4.28,4.19,4.18,4.49,4.29]},{"date":"2023-09-08","label":"Sep 08, 2023","rates":[5.38,5.38,5.45,5.44,5.48,5.42,4.97,4.58,4.3,4.2,4.26,4.53,4.33]},{"date":"2023-09-15","label":"Sep 15, 2023","rates":[5.38,5.39,5.46,5.45,5.47,5.42,5.07,4.71,4.42,4.32,4.33,4.58,4.43]},{"date":"2023-09-22","label":"Sep 22, 2023","rates":[5.38,5.38,5.46,5.47,5.48,5.42,5.11,4.75,4.62,4.49,4.44,4.71,4.52]},{"date":"2023-09-29","label":"Sep 29, 2023","rates":[5.37,5.38,5.47,5.47,5.48,5.43,5.05,4.69,4.6,4.52,4.57,4.86,4.71]},{"date":"2023-10-06","label":"Oct 06, 2023","rates":[5.37,5.38,5.46,5.47,5.49,5.43,5.05,4.71,4.69,4.56,4.8,5.06,4.95]},{"date":"2023-10-13","label":"Oct 13, 2023","rates":[5.37,5.37,5.47,5.48,5.49,5.45,5.06,4.72,4.63,4.55,4.63,4.91,4.77]},{"date":"2023-10-20","label":"Oct 20, 2023","rates":[5.35,5.38,5.46,5.49,5.49,5.45,5.11,4.78,4.85,4.78,4.93,5.19,5.08]},{"date":"2023-10-27","label":"Oct 27, 2023","rates":[5.37,5.38,5.45,5.46,5.48,5.45,5.02,4.69,4.77,4.7,4.84,5.11,5.02]},{"date":"2023-11-03","label":"Nov 03, 2023","rates":[5.37,5.38,5.44,5.43,5.44,5.38,4.84,4.5,4.48,4.37,4.57,4.86,4.77]},{"date":"2023-11-10","label":"Nov 10, 2023","rates":[5.38,5.37,5.45,5.45,5.47,5.4,4.89,4.53,4.51,4.44,4.62,4.92,4.74]},{"date":"2023-11-17","label":"Nov 17, 2023","rates":[5.37,5.37,5.44,5.44,5.45,5.35,4.89,4.55,4.44,4.36,4.44,4.72,4.56]},{"date":"2023-11-24","label":"Nov 24, 2023","rates":[5.37,5.37,5.43,5.42,5.43,5.27,4.74,4.39,4.27,4.21,4.39,4.7,4.54]},{"date":"2023-12-01","label":"Dec 01, 2023","rates":[5.37,5.37,5.39,5.39,5.38,5.12,4.56,4.24,4.11,4.06,4.2,4.53,4.35]},{"date":"2023-12-08","label":"Dec 08, 2023","rates":[5.4,5.4,5.4,5.4,5.36,5.02,4.44,4.14,4.11,4.1,4.23,4.58,4.34]},{"date":"2023-12-15","label":"Dec 15, 2023","rates":[5.41,5.42,5.41,5.4,5.32,4.76,4.24,3.95,3.82,3.82,3.91,4.26,4.0]},{"date":"2023-12-22","label":"Dec 22, 2023","rates":[5.41,5.43,5.4,5.4,5.28,4.76,4.32,4.03,3.88,3.88,3.9,4.2,4.03]},{"date":"2023-12-29","label":"Dec 29, 2023","rates":[5.5,5.52,5.45,5.4,5.25,4.79,4.23,4.01,3.84,3.86,3.88,4.2,4.03]},{"date":"2024-01-02","label":"Jan 02, 2024","rates":[5.55,5.54,5.46,5.41,5.24,4.8,4.33,4.09,3.93,3.95,3.95,4.25,4.08]},{"date":"2024-01-12","label":"Jan 12, 2024","rates":[5.55,5.47,5.45,5.37,5.16,4.65,4.14,3.92,3.84,3.91,3.96,4.32,4.2]},{"date":"2024-01-19","label":"Jan 19, 2024","rates":[5.54,5.47,5.45,5.39,5.21,4.84,4.39,4.18,4.08,4.12,4.15,4.47,4.36]},{"date":"2024-01-26","label":"Jan 26, 2024","rates":[5.54,5.45,5.44,5.39,5.19,4.78,4.34,4.15,4.04,4.1,4.15,4.49,4.38]},{"date":"2024-02-02","label":"Feb 02, 2024","rates":[5.49,5.51,5.43,5.42,5.22,4.81,4.36,4.14,3.99,4.02,4.03,4.33,4.22]},{"date":"2024-02-09","label":"Feb 09, 2024","rates":[5.49,5.51,5.44,5.43,5.26,4.86,4.48,4.25,4.14,4.17,4.17,4.48,4.37]},{"date":"2024-02-16","label":"Feb 16, 2024","rates":[5.48,5.51,5.44,5.45,5.31,4.98,4.64,4.43,4.29,4.31,4.3,4.58,4.45]},{"date":"2024-02-23","label":"Feb 23, 2024","rates":[5.49,5.51,5.46,5.46,5.32,5.0,4.67,4.45,4.28,4.28,4.26,4.51,4.37]},{"date":"2024-03-01","label":"Mar 01, 2024","rates":[5.54,5.49,5.42,5.41,5.27,4.94,4.54,4.32,4.17,4.2,4.19,4.46,4.33]},{"date":"2024-03-08","label":"Mar 08, 2024","rates":[5.51,5.48,5.46,5.4,5.34,4.92,4.48,4.25,4.06,4.08,4.09,4.36,4.26]},{"date":"2024-03-15","label":"Mar 15, 2024","rates":[5.52,5.48,5.48,5.41,5.38,5.05,4.72,4.51,4.33,4.33,4.31,4.55,4.43]},{"date":"2024-03-22","label":"Mar 22, 2024","rates":[5.51,5.47,5.46,5.4,5.34,4.98,4.59,4.36,4.2,4.22,4.22,4.47,4.39]},{"date":"2024-03-28","label":"Mar 28, 2024","rates":[5.49,5.48,5.46,5.42,5.38,5.03,4.59,4.4,4.21,4.2,4.2,4.45,4.34]},{"date":"2024-04-05","label":"Apr 05, 2024","rates":[5.47,5.5,5.43,5.41,5.34,5.05,4.73,4.54,4.38,4.39,4.39,4.65,4.54]},{"date":"2024-04-12","label":"Apr 12, 2024","rates":[5.48,5.5,5.45,5.42,5.36,5.13,4.88,4.7,4.54,4.53,4.5,4.73,4.61]},{"date":"2024-04-19","label":"Apr 19, 2024","rates":[5.49,5.51,5.45,5.44,5.39,5.17,4.97,4.81,4.66,4.65,4.62,4.83,4.72]},{"date":"2024-04-26","label":"Apr 26, 2024","rates":[5.48,5.51,5.46,5.45,5.4,5.21,4.96,4.84,4.68,4.68,4.67,4.89,4.78]},{"date":"2024-05-03","label":"May 03, 2024","rates":[5.51,5.48,5.45,5.5,5.41,5.12,4.81,4.63,4.48,4.49,4.5,4.75,4.66]},{"date":"2024-05-10","label":"May 10, 2024","rates":[5.51,5.47,5.47,5.51,5.43,5.17,4.87,4.65,4.52,4.51,4.5,4.74,4.64]},{"date":"2024-05-17","label":"May 17, 2024","rates":[5.5,5.47,5.46,5.5,5.41,5.14,4.83,4.6,4.44,4.43,4.42,4.66,4.56]},{"date":"2024-05-24","label":"May 24, 2024","rates":[5.56,5.53,5.46,5.51,5.44,5.21,4.93,4.71,4.53,4.49,4.46,4.65,4.57]},{"date":"2024-05-31","label":"May 31, 2024","rates":[5.48,5.48,5.46,5.46,5.42,5.18,4.89,4.69,4.52,4.52,4.51,4.73,4.65]},{"date":"2024-06-07","label":"Jun 07, 2024","rates":[5.47,5.47,5.52,5.47,5.4,5.17,4.87,4.65,4.46,4.45,4.43,4.64,4.55]},{"date":"2024-06-14","label":"Jun 14, 2024","rates":[5.47,5.47,5.51,5.45,5.36,5.07,4.67,4.41,4.22,4.2,4.2,4.46,4.34]},{"date":"2024-06-21","label":"Jun 21, 2024","rates":[5.42,5.46,5.49,5.45,5.36,5.1,4.7,4.45,4.26,4.25,4.25,4.49,4.39]},{"date":"2024-06-28","label":"Jun 28, 2024","rates":[5.47,5.47,5.48,5.45,5.33,5.09,4.71,4.52,4.33,4.33,4.36,4.61,4.51]},{"date":"2024-07-05","label":"Jul 05, 2024","rates":[5.48,5.53,5.46,5.46,5.34,4.98,4.6,4.39,4.22,4.23,4.28,4.57,4.47]},{"date":"2024-07-12","label":"Jul 12, 2024","rates":[5.47,5.52,5.43,5.41,5.23,4.87,4.45,4.22,4.1,4.13,4.18,4.5,4.39]},{"date":"2024-07-19","label":"Jul 19, 2024","rates":[5.48,5.52,5.43,5.39,5.24,4.87,4.49,4.28,4.16,4.18,4.25,4.55,4.45]},{"date":"2024-07-26","label":"Jul 26, 2024","rates":[5.49,5.51,5.38,5.36,5.18,4.79,4.36,4.2,4.06,4.1,4.2,4.53,4.45]},{"date":"2024-08-02","label":"Aug 02, 2024","rates":[5.54,5.43,5.29,5.14,4.88,4.33,3.88,3.7,3.62,3.68,3.8,4.19,4.11]},{"date":"2024-08-09","label":"Aug 09, 2024","rates":[5.54,5.4,5.33,5.22,5.02,4.5,4.05,3.86,3.8,3.85,3.94,4.33,4.23]},{"date":"2024-08-16","label":"Aug 16, 2024","rates":[5.53,5.4,5.33,5.21,5.02,4.49,4.06,3.87,3.77,3.81,3.89,4.26,4.15]},{"date":"2024-08-23","label":"Aug 23, 2024","rates":[5.51,5.35,5.25,5.13,4.92,4.36,3.9,3.73,3.65,3.71,3.81,4.18,4.1]},{"date":"2024-08-30","label":"Aug 30, 2024","rates":[5.41,5.32,5.21,5.12,4.89,4.38,3.91,3.79,3.71,3.8,3.91,4.28,4.2]},{"date":"2024-09-06","label":"Sep 06, 2024","rates":[5.28,5.28,5.13,5.02,4.69,4.1,3.66,3.54,3.5,3.6,3.72,4.1,4.03]},{"date":"2024-09-13","label":"Sep 13, 2024","rates":[5.15,5.17,4.97,4.92,4.6,4.0,3.57,3.42,3.43,3.53,3.66,4.05,3.98]},{"date":"2024-09-20","label":"Sep 20, 2024","rates":[4.87,4.88,4.75,4.7,4.43,3.92,3.55,3.46,3.48,3.59,3.73,4.1,4.07]},{"date":"2024-09-27","label":"Sep 27, 2024","rates":[4.9,4.87,4.68,4.64,4.35,3.9,3.55,3.49,3.5,3.6,3.75,4.15,4.1]},{"date":"2024-10-04","label":"Oct 04, 2024","rates":[5.01,4.88,4.73,4.68,4.45,4.2,3.93,3.84,3.81,3.88,3.98,4.33,4.26]},{"date":"2024-10-11","label":"Oct 11, 2024","rates":[4.97,4.82,4.73,4.65,4.44,4.18,3.95,3.85,3.88,3.97,4.08,4.44,4.39]},{"date":"2024-10-18","label":"Oct 18, 2024","rates":[4.92,4.82,4.73,4.65,4.45,4.19,3.95,3.86,3.88,3.97,4.08,4.44,4.38]},{"date":"2024-10-25","label":"Oct 25, 2024","rates":[4.89,4.79,4.73,4.68,4.51,4.29,4.11,4.05,4.07,4.15,4.25,4.58,4.51]},{"date":"2024-11-01","label":"Nov 01, 2024","rates":[4.75,4.74,4.61,4.53,4.42,4.28,4.21,4.18,4.22,4.3,4.37,4.68,4.57]},{"date":"2024-11-08","label":"Nov 08, 2024","rates":[4.7,4.69,4.63,4.53,4.42,4.32,4.26,4.18,4.2,4.25,4.3,4.58,4.47]},{"date":"2024-11-15","label":"Nov 15, 2024","rates":[4.7,4.67,4.6,4.52,4.44,4.34,4.31,4.27,4.3,4.36,4.43,4.7,4.6]},{"date":"2024-11-22","label":"Nov 22, 2024","rates":[4.72,4.67,4.63,4.53,4.46,4.42,4.37,4.32,4.3,4.35,4.41,4.67,4.6]},{"date":"2024-11-29","label":"Nov 29, 2024","rates":[4.76,4.69,4.58,4.52,4.42,4.3,4.13,4.1,4.05,4.1,4.18,4.45,4.36]},{"date":"2024-12-06","label":"Dec 06, 2024","rates":[4.57,4.5,4.42,4.42,4.34,4.19,4.1,4.05,4.03,4.09,4.15,4.42,4.34]},{"date":"2024-12-13","label":"Dec 13, 2024","rates":[4.43,4.43,4.34,4.36,4.32,4.24,4.25,4.21,4.25,4.33,4.4,4.69,4.61]},{"date":"2024-12-20","label":"Dec 20, 2024","rates":[4.43,4.42,4.34,4.35,4.29,4.27,4.3,4.32,4.37,4.45,4.52,4.79,4.72]},{"date":"2024-12-27","label":"Dec 27, 2024","rates":[4.44,4.43,4.31,4.35,4.29,4.2,4.31,4.36,4.45,4.53,4.62,4.89,4.82]},{"date":"2025-01-03","label":"Jan 03, 2025","rates":[4.44,4.35,4.34,4.31,4.25,4.18,4.28,4.32,4.41,4.51,4.6,4.88,4.82]},{"date":"2025-01-10","label":"Jan 10, 2025","rates":[4.42,4.35,4.36,4.33,4.27,4.25,4.4,4.46,4.59,4.7,4.77,5.04,4.96]},{"date":"2025-01-17","label":"Jan 17, 2025","rates":[4.43,4.35,4.34,4.32,4.28,4.21,4.27,4.33,4.42,4.52,4.61,4.91,4.84]},{"date":"2025-01-24","label":"Jan 24, 2025","rates":[4.45,4.36,4.35,4.32,4.25,4.17,4.27,4.33,4.43,4.53,4.63,4.91,4.85]},{"date":"2025-01-31","label":"Jan 31, 2025","rates":[4.37,4.37,4.31,4.33,4.28,4.17,4.22,4.27,4.36,4.47,4.58,4.88,4.83]},{"date":"2025-02-07","label":"Feb 07, 2025","rates":[4.37,4.38,4.35,4.37,4.3,4.25,4.29,4.31,4.34,4.42,4.49,4.75,4.69]},{"date":"2025-02-14","label":"Feb 14, 2025","rates":[4.37,4.38,4.34,4.35,4.32,4.23,4.26,4.26,4.33,4.41,4.47,4.75,4.69]},{"date":"2025-02-21","label":"Feb 21, 2025","rates":[4.36,4.38,4.32,4.34,4.3,4.15,4.19,4.19,4.26,4.35,4.42,4.69,4.67]},{"date":"2025-02-28","label":"Feb 28, 2025","rates":[4.38,4.38,4.32,4.32,4.25,4.08,3.99,3.99,4.03,4.14,4.24,4.55,4.51]},{"date":"2025-03-07","label":"Mar 07, 2025","rates":[4.38,4.33,4.34,4.29,4.29,4.05,3.99,4.01,4.09,4.21,4.32,4.66,4.62]},{"date":"2025-03-14","label":"Mar 14, 2025","rates":[4.37,4.33,4.33,4.3,4.29,4.09,4.02,4.0,4.09,4.2,4.31,4.65,4.62]},{"date":"2025-03-21","label":"Mar 21, 2025","rates":[4.36,4.33,4.33,4.29,4.26,4.04,3.94,3.92,4.0,4.12,4.25,4.6,4.59]},{"date":"2025-03-28","label":"Mar 28, 2025","rates":[4.38,4.35,4.33,4.3,4.26,4.04,3.89,3.91,3.98,4.11,4.27,4.65,4.64]},{"date":"2025-04-04","label":"Apr 04, 2025","rates":[4.36,4.36,4.28,4.25,4.14,3.86,3.68,3.66,3.72,3.84,4.01,4.44,4.41]},{"date":"2025-04-11","label":"Apr 11, 2025","rates":[4.37,4.38,4.34,4.35,4.21,4.04,3.96,3.98,4.15,4.32,4.48,4.91,4.85]},{"date":"2025-04-17","label":"Apr 17, 2025","rates":[4.36,4.38,4.34,4.35,4.22,3.99,3.81,3.82,3.95,4.13,4.34,4.82,4.8]},{"date":"2025-04-25","label":"Apr 25, 2025","rates":[4.34,4.36,4.32,4.32,4.22,3.95,3.74,3.76,3.88,4.06,4.29,4.75,4.74]},{"date":"2025-05-02","label":"May 02, 2025","rates":[4.38,4.34,4.33,4.41,4.26,4.0,3.83,3.82,3.92,4.11,4.33,4.81,4.79]},{"date":"2025-05-09","label":"May 09, 2025","rates":[4.37,4.34,4.34,4.4,4.28,4.05,3.88,3.85,4.0,4.18,4.37,4.86,4.83]},{"date":"2025-05-16","label":"May 16, 2025","rates":[4.37,4.34,4.37,4.42,4.3,4.13,3.98,3.95,4.06,4.24,4.43,4.92,4.89]},{"date":"2025-05-23","label":"May 23, 2025","rates":[4.36,4.35,4.36,4.43,4.35,4.15,4.0,3.96,4.08,4.29,4.51,5.03,5.04]},{"date":"2025-05-30","label":"May 30, 2025","rates":[4.33,4.35,4.36,4.39,4.36,4.11,3.89,3.87,3.96,4.18,4.41,4.93,4.92]},{"date":"2025-06-06","label":"Jun 06, 2025","rates":[4.28,4.35,4.43,4.38,4.31,4.14,4.04,4.02,4.13,4.31,4.51,4.99,4.97]},{"date":"2025-06-13","label":"Jun 13, 2025","rates":[4.23,4.48,4.45,4.4,4.3,4.09,3.96,3.9,4.02,4.2,4.41,4.93,4.9]},{"date":"2025-06-20","label":"Jun 20, 2025","rates":[4.2,4.55,4.39,4.4,4.29,4.07,3.9,3.86,3.96,4.16,4.38,4.9,4.89]},{"date":"2025-06-27","label":"Jun 27, 2025","rates":[4.19,4.49,4.39,4.36,4.26,3.97,3.73,3.72,3.83,4.03,4.29,4.85,4.85]},{"date":"2025-07-03","label":"Jul 03, 2025","rates":[4.35,4.5,4.42,4.41,4.34,4.07,3.88,3.84,3.94,4.12,4.35,4.87,4.86]},{"date":"2025-07-11","label":"Jul 11, 2025","rates":[4.37,4.47,4.41,4.42,4.31,4.09,3.9,3.86,3.99,4.19,4.43,4.96,4.96]},{"date":"2025-07-18","label":"Jul 18, 2025","rates":[4.35,4.46,4.4,4.42,4.3,4.08,3.88,3.84,3.96,4.18,4.44,4.99,5.0]},{"date":"2025-07-25","label":"Jul 25, 2025","rates":[4.37,4.46,4.42,4.42,4.31,4.09,3.91,3.86,3.95,4.15,4.4,4.92,4.92]},{"date":"2025-08-01","label":"Aug 01, 2025","rates":[4.49,4.44,4.35,4.3,4.16,3.87,3.69,3.67,3.77,3.97,4.23,4.79,4.81]},{"date":"2025-08-08","label":"Aug 08, 2025","rates":[4.48,4.39,4.32,4.27,4.15,3.93,3.76,3.7,3.84,4.03,4.27,4.84,4.85]},{"date":"2025-08-15","label":"Aug 15, 2025","rates":[4.48,4.35,4.3,4.22,4.12,3.93,3.75,3.73,3.85,4.07,4.33,4.91,4.92]},{"date":"2025-08-22","label":"Aug 22, 2025","rates":[4.47,4.36,4.27,4.21,4.08,3.87,3.68,3.64,3.76,3.98,4.26,4.84,4.88]},{"date":"2025-08-29","label":"Aug 29, 2025","rates":[4.41,4.3,4.23,4.17,4.01,3.83,3.59,3.58,3.68,3.92,4.23,4.86,4.92]},{"date":"2025-09-05","label":"Sep 05, 2025","rates":[4.29,4.24,4.07,4.05,3.85,3.65,3.51,3.48,3.59,3.8,4.1,4.72,4.78]},{"date":"2025-09-12","label":"Sep 12, 2025","rates":[4.24,4.2,4.08,4.02,3.83,3.66,3.56,3.52,3.63,3.81,4.06,4.65,4.68]},{"date":"2025-09-19","label":"Sep 19, 2025","rates":[4.19,4.14,4.03,3.98,3.81,3.6,3.57,3.56,3.68,3.88,4.14,4.71,4.75]},{"date":"2025-09-26","label":"Sep 26, 2025","rates":[4.22,4.17,4.02,4.0,3.83,3.67,3.63,3.66,3.76,3.96,4.2,4.74,4.77]},{"date":"2025-10-03","label":"Oct 03, 2025","rates":[4.24,4.11,4.03,3.96,3.82,3.64,3.58,3.59,3.72,3.9,4.13,4.69,4.71]},{"date":"2025-10-10","label":"Oct 10, 2025","rates":[4.19,4.1,4.02,3.96,3.81,3.6,3.52,3.52,3.65,3.83,4.05,4.6,4.63]},{"date":"2025-10-17","label":"Oct 17, 2025","rates":[4.18,4.08,4.0,3.95,3.79,3.56,3.46,3.47,3.59,3.78,4.02,4.58,4.6]},{"date":"2025-10-24","label":"Oct 24, 2025","rates":[4.11,4.02,3.93,3.89,3.76,3.58,3.48,3.49,3.61,3.79,4.02,4.56,4.59]},{"date":"2025-10-31","label":"Oct 31, 2025","rates":[4.06,4.04,3.89,3.87,3.79,3.7,3.6,3.6,3.71,3.89,4.11,4.65,4.67]},{"date":"2025-11-07","label":"Nov 07, 2025","rates":[4.01,3.98,3.92,3.83,3.76,3.63,3.55,3.57,3.67,3.87,4.11,4.68,4.7]},{"date":"2025-11-14","label":"Nov 14, 2025","rates":[4.04,4.01,3.95,3.88,3.8,3.7,3.62,3.61,3.74,3.92,4.14,4.73,4.74]},{"date":"2025-11-21","label":"Nov 21, 2025","rates":[4.03,4.0,3.9,3.84,3.75,3.62,3.51,3.5,3.62,3.82,4.06,4.67,4.71]},{"date":"2025-11-28","label":"Nov 28, 2025","rates":[4.05,3.99,3.88,3.86,3.74,3.61,3.47,3.49,3.59,3.78,4.02,4.62,4.67]},{"date":"2025-12-05","label":"Dec 05, 2025","rates":[3.82,3.77,3.71,3.73,3.68,3.61,3.56,3.59,3.72,3.9,4.14,4.75,4.79]},{"date":"2025-12-12","label":"Dec 12, 2025","rates":[3.76,3.75,3.63,3.64,3.58,3.54,3.52,3.58,3.75,3.95,4.19,4.82,4.85]},{"date":"2025-12-19","label":"Dec 19, 2025","rates":[3.71,3.72,3.62,3.64,3.6,3.51,3.48,3.53,3.7,3.91,4.16,4.77,4.82]},{"date":"2025-12-26","label":"Dec 26, 2025","rates":[3.7,3.72,3.64,3.66,3.58,3.49,3.46,3.54,3.68,3.89,4.14,4.76,4.81]},{"date":"2026-01-03","label":"Jan 03, 2026","rates":[3.72,3.66,3.65,3.61,3.57,3.46,3.45,3.53,3.71,3.92,4.16,4.78,4.83]},{"date":"2026-01-09","label":"Jan 09, 2026","rates":[3.7,3.65,3.64,3.6,3.55,3.44,3.43,3.51,3.69,3.9,4.14,4.76,4.81]},{"date":"2026-01-16","label":"Jan 16, 2026","rates":[3.68,3.64,3.63,3.58,3.53,3.42,3.41,3.49,3.67,3.88,4.12,4.74,4.79]},{"date":"2026-01-23","label":"Jan 23, 2026","rates":[3.66,3.62,3.61,3.56,3.51,3.4,3.39,3.47,3.65,3.86,4.1,4.72,4.77]},{"date":"2026-01-30","label":"Jan 30, 2026","rates":[3.64,3.6,3.59,3.54,3.49,3.38,3.37,3.45,3.63,3.84,4.08,4.7,4.75]},{"date":"2026-02-06","label":"Feb 06, 2026","rates":[3.62,3.58,3.57,3.52,3.47,3.36,3.35,3.43,3.61,3.82,4.06,4.68,4.73]},{"date":"2026-02-13","label":"Feb 13, 2026","rates":[3.6,3.56,3.55,3.5,3.45,3.34,3.33,3.41,3.59,3.8,4.04,4.66,4.71]}];

const MATURITY_LABELS = ["1M","2M","3M","4M","6M","1Y","2Y","3Y","5Y","7Y","10Y","20Y","30Y"];
const MATURITY_X = [0, 1, 2, 3, 5, 11, 23, 35, 59, 83, 119, 239, 359];

function getYearColor(dateStr) {
  const year = parseInt(dateStr.substring(0, 4));
  const colors = {
    2020: "#00e5ff",
    2021: "#76ff03",
    2022: "#ff9100",
    2023: "#ff1744",
    2024: "#d500f9",
    2025: "#ffea00",
    2026: "#00e676"
  };
  return colors[year] || "#ffffff";
}

function getSpreadColor(spread) {
  if (spread < -1) return "#ff1744";
  if (spread < -0.5) return "#ff6d00";
  if (spread < 0) return "#ffc400";
  if (spread < 0.5) return "#76ff03";
  if (spread < 1) return "#00e5ff";
  return "#00b0ff";
}

function interpolatePath(rates, width, height, padding) {
  const xScale = (idx) => padding.left + (MATURITY_X[idx] / 359) * (width - padding.left - padding.right);
  const yMax = 6;
  const yScale = (val) => padding.top + ((yMax - val) / yMax) * (height - padding.top - padding.bottom);

  const points = rates.map((r, i) => ({ x: xScale(i), y: yScale(r) }));

  if (points.length < 2) return "";

  let path = `M ${points[0].x},${points[0].y}`;
  for (let i = 0; i < points.length - 1; i++) {
    const p0 = points[Math.max(0, i - 1)];
    const p1 = points[i];
    const p2 = points[i + 1];
    const p3 = points[Math.min(points.length - 1, i + 2)];

    const cp1x = p1.x + (p2.x - p0.x) / 6;
    const cp1y = p1.y + (p2.y - p0.y) / 6;
    const cp2x = p2.x - (p3.x - p1.x) / 6;
    const cp2y = p2.y - (p3.y - p1.y) / 6;

    path += ` C ${cp1x},${cp1y} ${cp2x},${cp2y} ${p2.x},${p2.y}`;
  }
  return path;
}

function lerpRates(r1, r2, t) {
  return r1.map((v, i) => v + (r2[i] - v) * t);
}

export default function YieldCurveAnimation() {
  const [frameIndex, setFrameIndex] = useState(0);
  const [playing, setPlaying] = useState(false);
  const [speed, setSpeed] = useState(100);
  const [showTrail, setShowTrail] = useState(true);
  const [hoverIdx, setHoverIdx] = useState(null);
  const [showRefCurves, setShowRefCurves] = useState(true);
  const [yieldData, setYieldData] = useState(FALLBACK_DATA);
  const [dataSource, setDataSource] = useState("fallback");
  const [loading, setLoading] = useState(true);

  // Typical bull market: steep normal curve, moderate rates â€” economy expanding, low inflation
  //  1M   2M   3M   4M   6M   1Y   2Y   3Y   5Y   7Y  10Y  20Y  30Y
  const bullRates = [1.0, 1.05, 1.10, 1.15, 1.25, 1.50, 1.90, 2.20, 2.70, 3.05, 3.40, 3.85, 4.00];

  // Typical bear market: inverted/flat curve, high short-term rates â€” tight policy, recession risk
  const bearRates = [5.25, 5.20, 5.15, 5.10, 5.05, 4.90, 4.50, 4.20, 3.90, 3.80, 3.75, 3.90, 3.85];
  const animRef = useRef(null);
  const lastTimeRef = useRef(0);
  const subFrameRef = useRef(0);
  const containerRef = useRef(null);
  const [dims, setDims] = useState({ w: 900, h: 500 });

  // Fetch live data from Treasury.gov via our API proxy
  useEffect(() => {
    let cancelled = false;
    async function fetchData() {
      try {
        const res = await fetch("/api/yields");
        if (!res.ok) throw new Error(`HTTP ${res.status}`);
        const json = await res.json();
        if (!cancelled && json.success && json.data && json.data.length > 50) {
          setYieldData(json.data);
          setDataSource("live");
        }
      } catch (err) {
        console.log("Using fallback data:", err.message);
        setDataSource("fallback");
      } finally {
        if (!cancelled) {
          setLoading(false);
          setPlaying(true);
        }
      }
    }
    fetchData();
    return () => { cancelled = true; };
  }, []);

  useEffect(() => {
    const ro = new ResizeObserver(entries => {
      for (const entry of entries) {
        const w = Math.min(entry.contentRect.width, 1200);
        const h = Math.max(400, Math.min(w * 0.55, 600));
        setDims({ w, h });
      }
    });
    if (containerRef.current) ro.observe(containerRef.current);
    return () => ro.disconnect();
  }, []);

  const padding = useMemo(() => ({
    top: 50, right: 40, bottom: 100, left: 60
  }), []);

  const animate = useCallback((timestamp) => {
    if (!lastTimeRef.current) lastTimeRef.current = timestamp;
    const delta = timestamp - lastTimeRef.current;

    if (delta > speed) {
      lastTimeRef.current = timestamp;
      setFrameIndex(prev => {
        if (prev >= yieldData.length - 1) return 0;
        return prev + 1;
      });
    }
    animRef.current = requestAnimationFrame(animate);
  }, [speed]);

  useEffect(() => {
    if (playing) {
      animRef.current = requestAnimationFrame(animate);
    }
    return () => {
      if (animRef.current) cancelAnimationFrame(animRef.current);
    };
  }, [playing, animate]);

  const safeFrameIndex = Math.min(frameIndex, yieldData.length - 1);
  const currentData = yieldData[safeFrameIndex];
  const prevData = safeFrameIndex > 0 ? yieldData[safeFrameIndex - 1] : currentData;

  const { w, h } = dims;
  const chartW = w;
  const chartH = h;

  const xScale = (idx) => padding.left + (MATURITY_X[idx] / 359) * (chartW - padding.left - padding.right);
  const yMax = 6;
  const yScale = (val) => padding.top + ((yMax - val) / yMax) * (chartH - padding.top - padding.bottom);

  const mainPath = interpolatePath(currentData.rates, chartW, chartH, padding);

  const spread2s10s = currentData.rates[10] - currentData.rates[6];
  const spreadColor = getSpreadColor(spread2s10s);
  const yearColor = getYearColor(currentData.date);

  const trailIndices = useMemo(() => {
    if (!showTrail) return [];
    const trails = [];
    for (let i = Math.max(0, safeFrameIndex - 12); i < safeFrameIndex; i++) {
      trails.push(i);
    }
    return trails;
  }, [safeFrameIndex, showTrail]);

  const yTicks = [0, 1, 2, 3, 4, 5, 6];

  const timelineY = chartH - 35;
  const timelineX1 = padding.left;
  const timelineX2 = chartW - padding.right;
  const timelineProgress = safeFrameIndex / (yieldData.length - 1);

  const yearMarkers = useMemo(() => {
    const markers = [];
    let lastYear = null;
    yieldData.forEach((d, i) => {
      const year = d.date.substring(0, 4);
      if (year !== lastYear) {
        markers.push({ year, idx: i, x: timelineX1 + (i / (yieldData.length - 1)) * (timelineX2 - timelineX1) });
        lastYear = year;
      }
    });
    return markers;
  }, [timelineX1, timelineX2]);

  const handleTimelineClick = (e) => {
    const svg = e.currentTarget;
    const rect = svg.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const progress = Math.max(0, Math.min(1, (x - timelineX1) / (timelineX2 - timelineX1)));
    const newIdx = Math.round(progress * (yieldData.length - 1));
    setFrameIndex(newIdx);
  };

  const year = currentData.date.substring(0, 4);
  const isInverted = spread2s10s < 0;

  return (
    <div ref={containerRef} style={{
      width: "100%",
      minHeight: "100vh",
      background: "linear-gradient(180deg, #0a0a1a 0%, #0d1117 50%, #0a0a1a 100%)",
      fontFamily: "'JetBrains Mono', 'SF Mono', 'Fira Code', monospace",
      color: "#e0e0e0",
      display: "flex",
      flexDirection: "column",
      alignItems: "center",
      padding: "20px",
      boxSizing: "border-box"
    }}>
      <style>{`
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap');
        @keyframes pulse { 0%,100% { opacity: 0.6; } 50% { opacity: 1; } }
        @keyframes glow { 0%,100% { filter: drop-shadow(0 0 3px currentColor); } 50% { filter: drop-shadow(0 0 8px currentColor); } }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
      `}</style>

      {loading && (
        <div style={{
          position: "fixed", inset: 0, background: "#0a0a1aee",
          display: "flex", flexDirection: "column", alignItems: "center", justifyContent: "center",
          zIndex: 100, gap: "16px"
        }}>
          <div style={{
            width: "40px", height: "40px", border: "3px solid #333",
            borderTopColor: "#00e5ff", borderRadius: "50%",
            animation: "spin 0.8s linear infinite"
          }} />
          <div style={{ fontFamily: "'JetBrains Mono', monospace", color: "#00e5ff", fontSize: "13px" }}>
            Fetching live Treasury data...
          </div>
        </div>
      )}

      <div style={{
        display: "flex",
        alignItems: "baseline",
        gap: "16px",
        marginBottom: "8px",
        flexWrap: "wrap",
        justifyContent: "center"
      }}>
        <h1 style={{
          fontFamily: "'Space Grotesk', sans-serif",
          fontSize: "clamp(18px, 3vw, 28px)",
          fontWeight: 700,
          color: "#fff",
          margin: 0,
          letterSpacing: "-0.5px"
        }}>
          U.S. Treasury Yield Curve
        </h1>
        <span style={{
          fontSize: "clamp(14px, 2vw, 20px)",
          color: yearColor,
          fontWeight: 600,
          fontFamily: "'Space Grotesk', sans-serif",
          animation: "glow 2s ease-in-out infinite",
          transition: "color 0.3s"
        }}>
          {currentData.label}
        </span>
      </div>

      <div style={{
        display: "flex",
        gap: "clamp(12px, 3vw, 32px)",
        marginBottom: "12px",
        fontSize: "clamp(10px, 1.5vw, 13px)",
        flexWrap: "wrap",
        justifyContent: "center"
      }}>
        <div style={{ textAlign: "center" }}>
          <div style={{ color: "#666", marginBottom: "2px" }}>2s-10s SPREAD</div>
          <div style={{
            color: spreadColor,
            fontWeight: 700,
            fontSize: "clamp(14px, 2vw, 20px)",
            transition: "color 0.3s"
          }}>
            {spread2s10s >= 0 ? "+" : ""}{spread2s10s.toFixed(0)} bps
          </div>
          {isInverted && <div style={{ color: "#ff1744", fontSize: "10px", animation: "pulse 1.5s infinite" }}>INVERTED</div>}
        </div>
        <div style={{ textAlign: "center" }}>
          <div style={{ color: "#666", marginBottom: "2px" }}>FED FUNDS (1M)</div>
          <div style={{ fontWeight: 700, fontSize: "clamp(14px, 2vw, 20px)", color: "#e0e0e0" }}>
            {currentData.rates[0].toFixed(2)}%
          </div>
        </div>
        <div style={{ textAlign: "center" }}>
          <div style={{ color: "#666", marginBottom: "2px" }}>10-YEAR</div>
          <div style={{ fontWeight: 700, fontSize: "clamp(14px, 2vw, 20px)", color: "#e0e0e0" }}>
            {currentData.rates[10].toFixed(2)}%
          </div>
        </div>
        <div style={{ textAlign: "center" }}>
          <div style={{ color: "#666", marginBottom: "2px" }}>30-YEAR</div>
          <div style={{ fontWeight: 700, fontSize: "clamp(14px, 2vw, 20px)", color: "#e0e0e0" }}>
            {currentData.rates[12].toFixed(2)}%
          </div>
        </div>
      </div>

      <svg
        width={chartW}
        height={chartH}
        viewBox={`0 0 ${chartW} ${chartH}`}
        style={{ maxWidth: "100%", cursor: "crosshair" }}
        onClick={handleTimelineClick}
      >
        <defs>
          <linearGradient id="curveGrad" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" stopColor={yearColor} stopOpacity="0.8" />
            <stop offset="50%" stopColor="#fff" stopOpacity="0.9" />
            <stop offset="100%" stopColor={yearColor} stopOpacity="0.8" />
          </linearGradient>
          <linearGradient id="areaGrad" x1="0" y1={padding.top} x2="0" y2={chartH - padding.bottom} gradientUnits="userSpaceOnUse">
            <stop offset="0%" stopColor={yearColor} stopOpacity="0.15" />
            <stop offset="100%" stopColor={yearColor} stopOpacity="0.02" />
          </linearGradient>
          <filter id="glow">
            <feGaussianBlur stdDeviation="3" result="blur" />
            <feMerge><feMergeNode in="blur" /><feMergeNode in="SourceGraphic" /></feMerge>
          </filter>
        </defs>

        {yTicks.map(tick => (
          <g key={tick}>
            <line
              x1={padding.left} y1={yScale(tick)}
              x2={chartW - padding.right} y2={yScale(tick)}
              stroke="#1a1a2e" strokeWidth="1"
            />
            <text
              x={padding.left - 8} y={yScale(tick) + 4}
              textAnchor="end" fill="#555" fontSize="11"
              fontFamily="'JetBrains Mono', monospace"
            >
              {tick}%
            </text>
          </g>
        ))}

        {MATURITY_LABELS.map((label, i) => (
          <g key={label}>
            <line
              x1={xScale(i)} y1={padding.top}
              x2={xScale(i)} y2={chartH - padding.bottom}
              stroke="#111122" strokeWidth="1" strokeDasharray={i % 2 === 0 ? "none" : "2,4"}
            />
            <text
              x={xScale(i)} y={chartH - padding.bottom + 16}
              textAnchor="middle" fill="#666" fontSize="10"
              fontFamily="'JetBrains Mono', monospace"
            >
              {label}
            </text>
          </g>
        ))}

        {showRefCurves && (() => {
          const bullPath = interpolatePath(bullRates, chartW, chartH, padding);
          const bearPath = interpolatePath(bearRates, chartW, chartH, padding);
          const bullEndX = xScale(12);
          const bullEndY = yScale(bullRates[12]);
          const bearEndX = xScale(12);
          const bearEndY = yScale(bearRates[12]);
          const bullStartY = yScale(bullRates[0]);
          const bearStartY = yScale(bearRates[0]);
          return (
            <>
              <defs>
                <linearGradient id="bullGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                  <stop offset="0%" stopColor="#00e676" stopOpacity="0.15" />
                  <stop offset="100%" stopColor="#00e676" stopOpacity="0.35" />
                </linearGradient>
                <linearGradient id="bearGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                  <stop offset="0%" stopColor="#ff5252" stopOpacity="0.15" />
                  <stop offset="100%" stopColor="#ff5252" stopOpacity="0.35" />
                </linearGradient>
              </defs>
              <path
                d={bullPath}
                fill="none"
                stroke="url(#bullGrad)"
                strokeWidth="2"
                strokeDasharray="8,6"
                strokeLinecap="round"
              />
              <path
                d={bearPath}
                fill="none"
                stroke="url(#bearGrad)"
                strokeWidth="2"
                strokeDasharray="8,6"
                strokeLinecap="round"
              />
              <g>
                <rect
                  x={bullEndX + 6} y={bullEndY - 9}
                  width="84" height="18" rx="4"
                  fill="#0a0a1a" fillOpacity="0.85"
                  stroke="#00e676" strokeWidth="0.5" strokeOpacity="0.4"
                />
                <text
                  x={bullEndX + 12} y={bullEndY + 4}
                  fill="#00e676" fontSize="10" fontWeight="600"
                  fontFamily="'JetBrains Mono', monospace"
                  opacity="0.8"
                >
                  BULL MKT
                </text>
              </g>
              <g>
                <rect
                  x={bearEndX + 6} y={bearEndY - 9}
                  width={84} height="18" rx="4"
                  fill="#0a0a1a" fillOpacity="0.85"
                  stroke="#ff5252" strokeWidth="0.5" strokeOpacity="0.4"
                />
                <text
                  x={bearEndX + 12} y={bearEndY + 4}
                  fill="#ff5252" fontSize="10" fontWeight="600"
                  fontFamily="'JetBrains Mono', monospace"
                  opacity="0.8"
                >
                  BEAR MKT
                </text>
              </g>
              <circle cx={xScale(0)} cy={bullStartY} r="2.5" fill="#00e676" opacity="0.5" />
              <circle cx={bullEndX} cy={bullEndY} r="2.5" fill="#00e676" opacity="0.5" />
              <circle cx={xScale(0)} cy={bearStartY} r="2.5" fill="#ff5252" opacity="0.5" />
              <circle cx={bearEndX} cy={bearEndY} r="2.5" fill="#ff5252" opacity="0.5" />
            </>
          );
        })()}

        {showTrail && trailIndices.map((idx, ti) => {
          const opacity = 0.05 + (ti / trailIndices.length) * 0.15;
          const trailPath = interpolatePath(yieldData[idx].rates, chartW, chartH, padding);
          return (
            <path
              key={idx}
              d={trailPath}
              fill="none"
              stroke={getYearColor(yieldData[idx].date)}
              strokeWidth="1"
              opacity={opacity}
            />
          );
        })}

        {mainPath && (
          <>
            <path
              d={mainPath + ` L ${xScale(12)},${chartH - padding.bottom} L ${xScale(0)},${chartH - padding.bottom} Z`}
              fill="url(#areaGrad)"
            />
            <path
              d={mainPath}
              fill="none"
              stroke={yearColor}
              strokeWidth="2.5"
              strokeLinecap="round"
              strokeLinejoin="round"
              filter="url(#glow)"
              style={{ transition: "d 0.08s linear" }}
            />
          </>
        )}

        {currentData.rates.map((rate, i) => (
          <g key={i}>
            <circle
              cx={xScale(i)} cy={yScale(rate)}
              r={hoverIdx === i ? 6 : 3.5}
              fill={yearColor}
              stroke="#0a0a1a"
              strokeWidth="1.5"
              style={{ transition: "r 0.15s" }}
              onMouseEnter={() => setHoverIdx(i)}
              onMouseLeave={() => setHoverIdx(null)}
            />
            {hoverIdx === i && (
              <text
                x={xScale(i)} y={yScale(rate) - 12}
                textAnchor="middle" fill="#fff" fontSize="12"
                fontWeight="600" fontFamily="'JetBrains Mono', monospace"
              >
                {rate.toFixed(2)}%
              </text>
            )}
          </g>
        ))}

        <g>
          <line
            x1={timelineX1} y1={timelineY}
            x2={timelineX2} y2={timelineY}
            stroke="#1a1a2e" strokeWidth="3" strokeLinecap="round"
          />
          <line
            x1={timelineX1} y1={timelineY}
            x2={timelineX1 + timelineProgress * (timelineX2 - timelineX1)} y2={timelineY}
            stroke={yearColor} strokeWidth="3" strokeLinecap="round"
            style={{ transition: "stroke 0.3s" }}
          />
          <circle
            cx={timelineX1 + timelineProgress * (timelineX2 - timelineX1)}
            cy={timelineY}
            r="5" fill={yearColor} stroke="#0a0a1a" strokeWidth="2"
          />
          {yearMarkers.map(m => (
            <g key={m.year}>
              <line x1={m.x} y1={timelineY - 6} x2={m.x} y2={timelineY + 6} stroke="#333" strokeWidth="1" />
              <text
                x={m.x} y={timelineY + 18}
                textAnchor="middle" fill="#555" fontSize="10"
                fontFamily="'JetBrains Mono', monospace"
              >
                {m.year}
              </text>
            </g>
          ))}
        </g>
      </svg>

      <div style={{
        display: "flex",
        gap: "8px",
        alignItems: "center",
        marginTop: "12px",
        flexWrap: "wrap",
        justifyContent: "center"
      }}>
        <button
          onClick={() => setFrameIndex(prev => Math.max(0, prev - 1))}
          style={{
            background: "#1a1a2e",
            border: "1px solid #333",
            color: "#e0e0e0",
            padding: "6px 12px",
            borderRadius: "4px",
            cursor: "pointer",
            fontFamily: "'JetBrains Mono', monospace",
            fontSize: "14px"
          }}
        >
          &#9664;
        </button>
        <button
          onClick={() => setPlaying(!playing)}
          style={{
            background: playing ? yearColor : "#1a1a2e",
            border: `1px solid ${playing ? yearColor : "#333"}`,
            color: playing ? "#0a0a1a" : "#e0e0e0",
            padding: "6px 20px",
            borderRadius: "4px",
            cursor: "pointer",
            fontFamily: "'JetBrains Mono', monospace",
            fontSize: "14px",
            fontWeight: 600,
            transition: "all 0.3s"
          }}
        >
          {playing ? "PAUSE" : "PLAY"}
        </button>
        <button
          onClick={() => setFrameIndex(prev => Math.min(yieldData.length - 1, prev + 1))}
          style={{
            background: "#1a1a2e",
            border: "1px solid #333",
            color: "#e0e0e0",
            padding: "6px 12px",
            borderRadius: "4px",
            cursor: "pointer",
            fontFamily: "'JetBrains Mono', monospace",
            fontSize: "14px"
          }}
        >
          &#9654;
        </button>

        <div style={{ display: "flex", gap: "4px", alignItems: "center", marginLeft: "8px" }}>
          <span style={{ fontSize: "11px", color: "#666" }}>SPEED</span>
          {[{label: "1x", val: 200}, {label: "2x", val: 100}, {label: "4x", val: 50}, {label: "8x", val: 25}].map(s => (
            <button
              key={s.label}
              onClick={() => setSpeed(s.val)}
              style={{
                background: speed === s.val ? yearColor : "#1a1a2e",
                border: `1px solid ${speed === s.val ? yearColor : "#333"}`,
                color: speed === s.val ? "#0a0a1a" : "#888",
                padding: "4px 8px",
                borderRadius: "3px",
                cursor: "pointer",
                fontFamily: "'JetBrains Mono', monospace",
                fontSize: "11px",
                fontWeight: speed === s.val ? 600 : 400,
                transition: "all 0.2s"
              }}
            >
              {s.label}
            </button>
          ))}
        </div>

        <button
          onClick={() => setShowTrail(!showTrail)}
          style={{
            background: showTrail ? "#1a1a2e" : "#1a1a2e",
            border: `1px solid ${showTrail ? yearColor : "#333"}`,
            color: showTrail ? yearColor : "#666",
            padding: "4px 10px",
            borderRadius: "3px",
            cursor: "pointer",
            fontFamily: "'JetBrains Mono', monospace",
            fontSize: "11px",
            marginLeft: "8px"
          }}
        >
          TRAIL {showTrail ? "ON" : "OFF"}
        </button>

        <button
          onClick={() => setShowRefCurves(!showRefCurves)}
          style={{
            background: "#1a1a2e",
            border: `1px solid ${showRefCurves ? "#ffc107" : "#333"}`,
            color: showRefCurves ? "#ffc107" : "#666",
            padding: "4px 10px",
            borderRadius: "3px",
            cursor: "pointer",
            fontFamily: "'JetBrains Mono', monospace",
            fontSize: "11px",
            marginLeft: "4px"
          }}
        >
          REF {showRefCurves ? "ON" : "OFF"}
        </button>
      </div>

      <div style={{
        marginTop: "16px",
        fontSize: "10px",
        color: "#444",
        textAlign: "center"
      }}>
        Source: U.S. Department of the Treasury &middot; Daily Par Yield Curve Rates (CMT)
        {dataSource === "live" ? (
          <span style={{ color: "#00e676" }}> &middot; LIVE DATA ({yieldData.length} weeks)</span>
        ) : (
          <span style={{ color: "#ffc107" }}> &middot; CACHED DATA (Jan 2020 â€“ Feb 2026)</span>
        )}
      </div>
    </div>
  );
}
